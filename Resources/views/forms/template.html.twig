<form id="form-form">
    <div class="grid">
        <div class="grid-row m-bottom-40">
            <div class="grid-col-12">
                <div class="form-group">
                    <label for="title"><%= translate('Title') %></label>

                    <div id="title-element" class="form-element husky-validate"
                         data-type="husky-input"
                         data-aura-component="input@husky"
                         data-aura-instance-name="title"
                         data-form="true"
                         data-validation-required="true"
                         autofocus
                         data-mapper-property="title" />
                </div>
            </div>
        </div>
    </div>

    <div class="grid">
        <div class="grid-row m-bottom-40">
            <div class="grid-col-12">
                <div class="grid-col-12 floating m-top-20">
                    <h2 class="light">Form Fields</h2>

                    {% set blockId = 'blocks' %}

                    <div class="grid">
                        <div id="text-block-header-{{ blockId }}" class="text-blocks-header">
                            <div id="collapse-text-blocks-{{ blockId }}" tabindex="0" class="text-{{ blockId }}-toggle-btn">
                                <%= translate('sulu.content.collapse.blocks') %>
                            </div>
                            <div id="expand-text-blocks-blocks" tabindex="0" class="text-{{ blockId }}-toggle-btn">
                                <%= translate('sulu.content.expand.blocks') %>
                            </div>
                            <div class="clear"></div>
                        </div>

                        <div class="grid-row small"
                             id="{{ blockId }}"
                             data-form="true"
                             data-type="block"
                             data-type-config='[
                                    {% for type in types %}
                                        {"data": "{{ type }}", "title": "{{ type|trans }}", "tpl": "{{ type }}-{{ blockId }}-tpl"}
                                        {% if not loop.last %}
                                            ,
                                        {% endif %}
                                    {% endfor %}
                                ]'
                             data-type-min="0"
                             data-type-max="999"
                             data-type-default="{{ types|first }}"
                             data-mapper-property="{{ blockId }}"
                             data-mapper-full-class="full"
                             data-mapper-empty-class="empty">

                            {% for type in types %}
                                <script id="{{ type }}-{{ blockId }}-tpl" type="text/template">
                                    <div class="text-block {{ type }}-element {{ blockId }}-element"
                                         data-mapper-property-tpl="{{ type }}">
                                        <div class="move"></div>
                                        <input type="hidden" data-mapper-property="type" value="{{ type }}"/>

                                        <div class="collapsed-container empty">
                                            <div class="type">{{ type }}</div>
                                            <div class="title"></div>
                                            <div class="image"></div>
                                            <div class="text hidden"></div>
                                        </div>

                                        <div class="container grid pos-rel">
                                            <div class="text-block-controls pull-right">
                                                <div class="fa-eye-slash options-collapse"></div>
                                                <div data-mapper-remove="{{ blockId }}"
                                                     class="fa-times options-remove mapper-remove-{{ type }}"></div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="grid-row small">
                                                <div class="grid-col-3 m-top-10 floating form-group hidden">
                                                    <div class="type-select"></div>
                                                </div>
                                                <div class="grid-col-2 m-top-10 floating form-group">
                                                </div>
                                                <div class="grid-col-6 m-top-10 floating form-group">
                                                    <label for="header_viewtype" style="margin-top: 5px; margin-bottom: 5px;">
                                                        <div class="custom-checkbox">
                                                            <input type="checkbox"
                                                                   id="required_custom"
                                                                   data-property='required_custom'
                                                                   data-mapper-property="required_custom"
                                                                   class="preview-update trigger-save-button form-element"/>
                                                            <span class="icon"></span>
                                                        </div>
                                                        Required
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="block block-{{ type }} grid-row small">
                                                {% include 'L91SuluFormBundle:forms:fields/' ~ type ~ '.html.twig' %}
                                                <div class="clear"></div>
                                            </div>
                                        </div>
                                    </div>
                                </script>
                            {% endfor %}
                        </div>

                        <div class="text-block-footer" id="{{ blockId }}-add" style="width: 200px">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
